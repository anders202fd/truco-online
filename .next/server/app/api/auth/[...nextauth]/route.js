"use strict";(()=>{var e={};e.id=912,e.ids=[912],e.modules={399:e=>{e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},517:e=>{e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},3649:(e,r,o)=>{o.r(r),o.d(r,{originalPathname:()=>m,patchFetch:()=>h,requestAsyncStorage:()=>l,routeModule:()=>d,serverHooks:()=>O,staticGenerationAsyncStorage:()=>p});var t={};o.r(t),o.d(t,{GET:()=>c,POST:()=>c});var n=o(9303),a=o(8716),i=o(670),u=o(4184),s=o(3330);(function(){var e=Error("Cannot find module 'next-auth'");throw e.code="MODULE_NOT_FOUND",e})(),function(){var e=Error("Cannot find module 'next-auth/providers/credentials'");throw e.code="MODULE_NOT_FOUND",e}(),function(){var e=Error("Cannot find module 'bcryptjs'");throw e.code="MODULE_NOT_FOUND",e}();let c=Object(function(){var e=Error("Cannot find module 'next-auth'");throw e.code="MODULE_NOT_FOUND",e}())({providers:[Object(function(){var e=Error("Cannot find module 'next-auth/providers/credentials'");throw e.code="MODULE_NOT_FOUND",e}())({name:"credentials",credentials:{email:{label:"Email",type:"email"},password:{label:"Password",type:"password"}},async authorize(e){if(!e?.email||!e?.password)return null;try{await (0,u.u)();let r=await s.Z.findOne({email:e.email});if(!r||!await Object(function(){var e=Error("Cannot find module 'bcryptjs'");throw e.code="MODULE_NOT_FOUND",e}())(e.password,r.password))return null;return{id:r._id.toString(),email:r.email,name:r.name}}catch(e){return console.error("Auth error:",e),null}}})],session:{strategy:"jwt"},callbacks:{jwt:async({token:e,user:r})=>(r&&(e.id=r.id),e),session:async({session:e,token:r})=>(r&&(e.user.id=r.id),e)},pages:{signIn:"/login"},secret:process.env.NEXTAUTH_SECRET||"your-secret-key"}),d=new n.AppRouteRouteModule({definition:{kind:a.x.APP_ROUTE,page:"/api/auth/[...nextauth]/route",pathname:"/api/auth/[...nextauth]",filename:"route",bundlePath:"app/api/auth/[...nextauth]/route"},resolvedPagePath:"/workspaces/truco-online/src/app/api/auth/[...nextauth]/route.ts",nextConfigOutput:"",userland:t}),{requestAsyncStorage:l,staticGenerationAsyncStorage:p,serverHooks:O}=d,m="/api/auth/[...nextauth]/route";function h(){return(0,i.patchFetch)({serverHooks:O,staticGenerationAsyncStorage:p})}},9303:(e,r,o)=>{e.exports=o(517)},4184:(e,r,o)=>{o.d(r,{u:()=>t.uD});var t=o(7046)},7046:(e,r,o)=>{o.d(r,{IO:()=>i,uD:()=>a}),function(){var e=Error("Cannot find module 'pg'");throw e.code="MODULE_NOT_FOUND",e}();let t=process.env.DATABASE_URL;if(!t)throw Error("❌ DATABASE_URL n\xe3o foi definido no arquivo .env.local");let n=Object(function(){var e=Error("Cannot find module 'pg'");throw e.code="MODULE_NOT_FOUND",e}())({connectionString:t,ssl:{rejectUnauthorized:!1},max:20,idleTimeoutMillis:3e4,connectionTimeoutMillis:2e3}),a=async()=>{try{let e=await n.connect();return console.log("✅ PostgreSQL conectado com sucesso!"),e.release(),n}catch(e){throw console.error("❌ Erro ao conectar ao PostgreSQL:",e),e}},i=async(e,r)=>{try{return await n.query(e,r)}catch(e){throw console.error("❌ Erro ao executar query:",e),e}}},3330:(e,r,o)=>{o.d(r,{Z:()=>n}),function(){var e=Error("Cannot find module 'mongoose'");throw e.code="MODULE_NOT_FOUND",e}();let t=Object(function(){var e=Error("Cannot find module 'mongoose'");throw e.code="MODULE_NOT_FOUND",e}())({name:{type:String,required:!0},email:{type:String,required:!0,unique:!0},password:{type:String,required:!0},balance:{type:Number,default:0},history:[{type:Object(function(){var e=Error("Cannot find module 'mongoose'");throw e.code="MODULE_NOT_FOUND",e}()).Types.ObjectId,ref:"Game"}]},{timestamps:!0}),n=Object(function(){var e=Error("Cannot find module 'mongoose'");throw e.code="MODULE_NOT_FOUND",e}()).User||Object(function(){var e=Error("Cannot find module 'mongoose'");throw e.code="MODULE_NOT_FOUND",e}())("User",t)}};var r=require("../../../../webpack-runtime.js");r.C(e);var o=e=>r(r.s=e),t=r.X(0,[948],()=>o(3649));module.exports=t})();